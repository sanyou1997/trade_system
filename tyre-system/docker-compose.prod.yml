# Production/deployment environment overrides
#
# Usage:
#   1. Copy .env.example to .env and fill in your values
#   2. docker compose -f docker-compose.yml -f docker-compose.prod.yml up --build -d
#
# Required variables in .env:
#   SERVER_HOST=8.208.94.18  (or your domain name)
#   SESSION_SECRET=your-random-secret

services:
  backend:
    environment:
      - DEBUG=false
      - SESSION_SECRET=${SESSION_SECRET:-change-this-in-production}
      - ALLOWED_ORIGINS=http://localhost:3001,http://localhost,http://${SERVER_HOST}:3001,http://${SERVER_HOST}

  frontend:
    build:
      args:
        NEXT_PUBLIC_API_URL: http://${SERVER_HOST}:8001/api/v1
